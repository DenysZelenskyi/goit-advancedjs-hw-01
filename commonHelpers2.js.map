{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst formEl = document.querySelector('.feedback-form');\n\nconst fillFormField = () => {\n  try {\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (formDataFromLS === null) {\n      return;\n    }\n\n    const formDataFromLSKyes = Object.keys(formDataFromLS);\n\n    formDataFromLSKyes.forEach(key => {\n      formEl.elements[key].value = formDataFromLS[key];\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nfillFormField();\n\nconst onFormFieldInput = e => {\n  const { target: formField } = e;\n  const fieldName = formField.name;\n  const fieldValue = formField.value;\n\n  if (fieldName.toString() === 'email') {\n    formData.email = fieldValue.toString();\n  } else if (fieldName.toString() === 'message') {\n    formData.message = fieldValue.toString();\n  }\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFeedbackOnSubmit = e => {\n  e.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    console.log('Fill please all fields');\n  } else {\n    console.log(formData);\n    e.currentTarget.reset();\n    localStorage.removeItem('feedback-form-state');\n  }\n};\n\nformEl.addEventListener('input', onFormFieldInput);\nformEl.addEventListener('submit', onFeedbackOnSubmit);\n\n// let formData = {\n//   email: \"\",\n//   message: \"\"\n// };\n\n// const form = document.querySelector('.feedback-form');\n// const emailInput = form.querySelector('input[name=\"email\"]');\n// const messageTextarea = form.querySelector('textarea[name=\"message\"]');\n\n// function saveToLocalStorage() {\n//   localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n// }\n\n// function loadFromLocalStorage() {\n//   const savedData = localStorage.getItem('feedback-form-state');\n//   if (savedData) {\n//     formData = JSON.parse(savedData);\n//     emailInput.value = formData.email;\n//     messageTextarea.value = formData.message;\n//   }\n// }\n\n// form.addEventListener('input', event => {\n//   if (event.target.name === 'email') {\n//     formData.email = event.target.value;\n//   } else if (event.target.name === 'message') {\n//     formData.message = event.target.value;\n//   }\n//   saveToLocalStorage();\n// });\n\n// form.addEventListener('submit', event => {\n//   event.preventDefault();\n//   if (!formData.email || !formData.message) {\n//     alert('Fill please all fields');\n//   } else {\n//     console.log(formData);\n//     localStorage.removeItem('feedback-form-state');\n//     formData = { email: \"\", message: \"\" };\n//     form.reset();\n//   }\n// });\n\n// document.addEventListener('DOMContentLoaded', loadFromLocalStorage);\n"],"names":["formData","formEl","fillFormField","formDataFromLS","key","err","onFormFieldInput","formField","fieldName","fieldValue","onFeedbackOnSubmit"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAgB,IAAM,CAC1B,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAIA,IAAmB,KACrB,OAGyB,OAAO,KAAKA,CAAc,EAElC,QAAQC,GAAO,CAChCH,EAAO,SAASG,CAAG,EAAE,MAAQD,EAAeC,CAAG,CACrD,CAAK,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAH,IAEA,MAAMI,EAAmB,GAAK,CAC5B,KAAM,CAAE,OAAQC,CAAW,EAAG,EACxBC,EAAYD,EAAU,KACtBE,EAAaF,EAAU,MAEzBC,EAAU,SAAU,IAAK,QAC3BR,EAAS,MAAQS,EAAW,WACnBD,EAAU,SAAU,IAAK,YAClCR,EAAS,QAAUS,EAAW,YAGhC,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,EAEMU,EAAqB,GAAK,CAC9B,EAAE,eAAc,EAEZ,CAACV,EAAS,OAAS,CAACA,EAAS,QAC/B,QAAQ,IAAI,wBAAwB,GAEpC,QAAQ,IAAIA,CAAQ,EACpB,EAAE,cAAc,QAChB,aAAa,WAAW,qBAAqB,EAEjD,EAEAC,EAAO,iBAAiB,QAASK,CAAgB,EACjDL,EAAO,iBAAiB,SAAUS,CAAkB"}